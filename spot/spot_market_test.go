package spot

import "testing"

func TestClient_GetMarketDepth(t *testing.T) {
	baseURL := "https://api.huobi.pro"
	params := &ApiParameter{
		Debug:              true,
		AccessKey:          "",
		SecretKey:          "",
		EnablePrivateSign:  false,
		BaseURL:            baseURL,
		PrivateKeyPrime256: "",
		HttpClient:         nil,
		ProxyURL:           "",
	}
	c := NewClient(params)
	// {"ch":"market.btcusdt.depth.step0","status":"ok","ts":1590479896449,"tick":{"bids":[[8949.99,3.897438],[8949.98,0.002868],[8949.64,0.003209],[8949.61,0.015694],[8949.53,0.3],[8949.45,0.019441],[8948.9,0.01],[8948.82,0.005331],[8948.78,0.1],[8948.72,0.5],[8948.68,0.055858],[8948.67,0.391585],[8948.47,0.22342],[8948.38,0.111716],[8948.29,0.217027],[8948.06,0.004783],[8948.05,0.301848],[8948.04,0.009797],[8948.03,1.895833],[8948.02,0.446841]],"asks":[[8950.0,35.329777364243526],[8950.36,0.002],[8950.37,0.203653],[8950.51,0.177986],[8950.61,0.002],[8950.85,0.002],[8950.88,0.004],[8951.05,0.011408],[8951.44,0.001904],[8951.65,5.7E-4],[8951.96,0.011832],[8951.97,0.202934],[8951.98,0.015582],[8952.0,0.041264],[8952.14,0.131941],[8952.26,0.2],[8952.27,0.015],[8952.58,0.2445],[8952.6,0.01],[8952.68,0.6555]]}}
	depth, err := c.GetMarketDepth("btcusdt", 20, "")
	if err != nil {
		t.Error(err)
		return
	}
	t.Logf("%#v", depth)
}
